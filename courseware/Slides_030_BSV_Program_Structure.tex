% -*- mode: fundamental -*-

% Slides accompanying "Learn RISC-V CPU Implementation and BSV" book
% Copyright (c) 2024 Rishiyur S. Nikhil, All Rights Reserved

\input{Preamble.tex}

\date{L3: Structure of BSV Programs}

% ****************************************************************

\begin{document}

% ================================================================

\begin{frame}
 \titlepage

 \begin{center}
  \includegraphics[height=1cm]{../Figures/Bluespec_Logo_2022-10}
 \end{center}
\end{frame}

% ================================================================

\begin{frame}
\frametitle{BSV language, compiler and libraries documents}

From the book, Appendix A.6.5:

\fbox{\footnotesize
\hm
\begin{minipage}{\hlessmm}
\begin{itemize}

  \item The ``{\BSV} Language Reference
  Guide''.  This document describes the
  syntax and semantics of {\BSV}.

  PDF: \url{https://github.com/B-Lang-org/bsc/releases/latest/download/BSV_lang_ref_guide.pdf}

  \vspace*{1ex}

  \item The ``BSC Libraries Reference
  Guide''.  This document describes the
  extensive set of libraries and IP (Intellectual Property blocks)
  available to the {\BSV} user.

  PDF: \url{https://github.com/B-Lang-org/bsc/releases/latest/download/bsc_libraries_ref_guide.pdf}

  \vspace*{1ex}

  \item The ``BSC User Guide''.  This document
  describes how to use the {\bsc} compiler, which compiles our
  hardware descriptions written in {\BSV} into Verilog (which can then
  be simulated or synthesizes using standard Verilog tools).

  PDF: \url{https://github.com/B-Lang-org/bsc/releases/latest/download/bsc_user_guide.pdf}

\end{itemize}

\vspace*{1ex}

We will be using the Language Reference Guide and Librares Reference
Guide extensively, so you may wish to download a copy for your laptop.
\end{minipage}}


\end{frame}

% ================================================================

\begin{frame}
\frametitle{First: a Minimal (trivial!) BSV program}

\begin{examples}
Demo: please see directory {\tt Ex\_O3\_A}, code and {\tt Makefile}
\end{examples}

\vspace*{5ex}

(More related exercises in the book, Chapter 3.)

\end{frame}

% ================================================================

\begin{frame}
\frametitle{File-level view of a BSV program}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_program_structure}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{What's in a BSV package/file?}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_Package}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{Namespace control with package imports and exports}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_namespace_control}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{Extending our Minimal BSV program to two packages/files}

\begin{examples}
Demo: please see directory {\tt Ex\_O3\_B}, code and {\tt Makefile}
\end{examples}

\vspace*{5ex}

(More related exercises in the book, Chapter 3.)

\end{frame}

% ================================================================

\begin{frame}
\frametitle{What's in an Interface Declaration?}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_whats_in_an_interface_decl}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{What's in a Module Declaration?}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_whats_in_a_module_decl}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{Extending our Minimal BSV program to define a module with an interface}

\begin{examples}
Demo: please see directory {\tt Ex\_O3\_C}, code and {\tt Makefile}
\end{examples}

\vspace*{5ex}

(More related exercises in the book, Chapter 3.)

\end{frame}

% ================================================================

\begin{frame}
\frametitle{What's in a Rule?}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_whats_in_a_rule}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{What's in an Interface Definition?}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_whats_in_an_interface_def}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{Static elaboration}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_static_elaboration}
\end{center}

\end{frame}

% ================================================================

\begin{frame}
\frametitle{Module interaction}

\begin{center}
\includegraphics[width=\textwidth]{../Figures/Fig_BSV_module_interaction}
\end{center}

\end{frame}

% ================================================================

\input{Postamble.tex}

% ****************************************************************

\end{document}
